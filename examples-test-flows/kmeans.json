{
  "schemaType": "flow",
  "schemaVersion": "0.0.1",
  "id": "1234",
  "flows": {
    "flow": {
      "flowType": "flow",
      "nodes": [
        {
          "id": "f030a86e-2280-4b12-8615-4644f98cb625",
          "x": 3218.510068723205,
          "y": 1079.3107144634794,
          "width": 240.0001014503726,
          "height": 215.9999445952457,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "variable",
            "formValues": {
              "variableName": "data",
              "initialValue": "",
              "fieldType": "array",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "693410e0-2810-4237-b888-07ea51248a6e",
          "x": 3605.68753580387,
          "y": 1102.179755079369,
          "width": 240.0001014503726,
          "height": 95.99996722510421,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "variable",
            "formValues": {
              "variableName": "clusters",
              "initialValue": "",
              "fieldType": "array",
              "fieldValueType": "array"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "dab880f1-662c-4e23-98eb-4b374ca84e68",
          "x": 3894.961633671121,
          "y": 1110.6692757852586,
          "width": 240.0001014503726,
          "height": 167.999997660216,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "variable",
            "formValues": {
              "variableName": "centroids",
              "initialValue": "",
              "fieldType": "array",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "ae56dc77-4c0e-479c-9caf-390762aac180",
          "x": 3263.074212637936,
          "y": 1621.031313917981,
          "width": 150,
          "height": 155,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "range",
            "formValues": {},
            "showFormOnlyInPopup": false,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "248c7829-295b-44fd-b581-18cafc953842",
          "x": 2928.9265316621186,
          "y": 1543.0605036534841,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "value",
            "formValues": {
              "value": "0"
            }
          }
        },
        {
          "id": "bfc7c418-33fa-44a9-bd5a-5acef9038735",
          "x": 2924.212382306903,
          "y": 1717.5867652234415,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "value",
            "formValues": {
              "value": "20"
            }
          }
        },
        {
          "id": "be12c859-b2c1-4be9-9359-ced5985aebcc",
          "x": 3502.101499525182,
          "y": 1630.6228021821826,
          "width": 110,
          "height": 110,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "map",
            "formValues": {}
          }
        },
        {
          "id": "7b8c7fbf-81d0-4ea7-adb3-1ce04f0ce5c5",
          "x": 3705.1793609885126,
          "y": 1720.5066107674602,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "[random() , random()]",
              "inputType": "number"
            }
          }
        },
        {
          "id": "2b646b69-3b5d-41b0-b1bf-65cff9b6898b",
          "x": 3808.5208367519635,
          "y": 1602.4215045872172,
          "width": 200,
          "height": 64,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "set-array-variable",
            "formValues": {
              "variableName": "data"
            },
            "showFormOnlyInPopup": true,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "3b1c2a61-436e-4625-93e9-8e6117ba0424",
          "x": 2947.3364994491494,
          "y": 1089.573709800107,
          "width": 119.99975730500701,
          "height": 83.99996215258558,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "variable",
            "formValues": {
              "variableName": "k",
              "initialValue": "3",
              "fieldType": "value",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "ac063440-0517-4880-8ffc-79610e86fc7a",
          "x": 4548.20764044972,
          "y": 1741.4619914947089,
          "width": 150,
          "height": 155,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "range",
            "formValues": {},
            "showFormOnlyInPopup": false,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "d6a6b905-9c2d-4bbe-b489-acbae0355ede",
          "x": 4120.909137276225,
          "y": 2003.2320601343065,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "k",
              "inputType": "number"
            }
          }
        },
        {
          "id": "d1f557d9-2ce4-47f4-9982-6739dfce3b7b",
          "x": 4839.885203842909,
          "y": 1770.5647124219797,
          "width": 110,
          "height": 110,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "map",
            "formValues": {}
          }
        },
        {
          "id": "28fe4ef5-5577-4943-a722-a2c1c618b7e2",
          "x": 5040.379202479089,
          "y": 1870.0242935408817,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "[random() , random()]",
              "inputType": "number"
            }
          }
        },
        {
          "id": "ea7bdf4e-6c33-48f4-b633-bff38ffb2a3c",
          "x": 5098.348754848735,
          "y": 1712.148433671998,
          "width": 200,
          "height": 64,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "set-array-variable",
            "formValues": {
              "variableName": "centroids"
            },
            "showFormOnlyInPopup": true,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "a301c7c2-c840-449c-8fcf-094168b0a42a",
          "x": 4237.832875462038,
          "y": 1727.7376854356596,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "value",
            "formValues": {
              "value": "0"
            }
          }
        },
        {
          "id": "2f6c0995-3e21-4776-b48a-a1b19430172d",
          "x": 4254.229355271887,
          "y": 1124.979342855894,
          "width": 120.0000507251863,
          "height": 83.99996215258558,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "variable",
            "formValues": {
              "variableName": "converged",
              "initialValue": "0",
              "fieldType": "value",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "d68aeeb6-d2b2-4503-a704-7d21334b9c7f",
          "x": 6001.248820923991,
          "y": 1262.7035240611838,
          "width": 400,
          "height": 400,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "iframe-html-node",
            "formValues": {
              "html": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Plot visualization</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <style>\n      .wrapper {\n        display: flex;\n        flex-direction: row;\n        gap: 4px;\n        height: 100vh;\n        align-items: center;\n        justify-content: center;\n        padding: 4px;\n      }\n    </style>\n  </head>\n  <body class=\"bg-white\">\n    <div class=\"min-h-screen flex wrapper\" id=\"inner\">\n      <canvas id=\"canvas\" width=\"200\" height=\"200\"></canvas>\n    </div>\n\n    <script>\n      // Initialize the global variable \"input\"\n      window.input = window.input;\n      let inputstream = [];\n      let initialized = false;\n      let elements = [];\n      let canvas = document.getElementById('canvas');\n      // Function to rerender the UI\n      function rerenderUI() {\n        if (!initialized && window['createElement']) {\n          initialized = true;\n        }\n        // clear canvas\n        let ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        if (window.input !== undefined) {\n          if (Array.isArray(window.input)) {\n            window.input.forEach((element, index) => {\n              if (Array.isArray(element) && element.length === 2) {\n                // create a small circle on canvas on position element[0] and element[1]\n                ctx.beginPath();\n                ctx.arc(element[0] + 50, element[1] + 50, 5, 0, 2 * Math.PI);\n                ctx.fillStyle = 'red';\n                ctx.fill();\n                ctx.stroke();\n              }\n            });\n          }\n        }\n      }\n\n      // Attach the rerenderUI function to the global onExecute method\n      window.onExecute = rerenderUI;\n\n      rerenderUI();\n    </script>\n  </body>\n</html>\n",
              "aiprompt": ""
            },
            "showFormOnlyInPopup": true
          }
        },
        {
          "id": "8a5cfde7-22fd-4f25-8af4-4540f69e3c8f",
          "x": 4900.277492157165,
          "y": 2084.5714475154764,
          "width": 110,
          "height": 110,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "map",
            "formValues": {}
          }
        },
        {
          "id": "1d1b2896-c11d-4ddd-a4b8-1d3b77e493ba",
          "x": 5101.379371894922,
          "y": 2189.1254179315656,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "[]",
              "inputType": "number"
            }
          }
        },
        {
          "id": "ab054f77-2e88-49ec-afe6-848468c0be3c",
          "x": 5102.0711817545925,
          "y": 2053.8269710407394,
          "width": 200,
          "height": 64,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "set-array-variable",
            "formValues": {
              "variableName": "clusters"
            },
            "showFormOnlyInPopup": true,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "6373efe5-c0de-4674-8e62-94917080c536",
          "x": 2421.379081187641,
          "y": 1047.1406135103578,
          "width": 234.0546875,
          "height": 64,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "register-expression-function-node",
            "formValues": {
              "functionName": "hello",
              "customFunctionCode": "(a, b) => {\n  if (\n    Array.isArray(a) &&\n    Array.isArray(b) &&\n    a.length === 2 &&\n    b.length === 2\n  ) {\n    return 25;\n  }\n  return 0;\n}"
            },
            "showFormOnlyInPopup": true,
            "useInCompositionOnly": false,
            "isRunOnStart": true,
            "isSettingsPopup": true
          }
        },
        {
          "id": "5a697c29-8f0b-4b8f-b251-29d389d4b606",
          "x": 5411.352836320217,
          "y": 2018.8101661066823,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "hello([1,1],[3,21])",
              "inputType": "number"
            }
          }
        },
        {
          "id": "c4c28797-abf4-444c-bc42-400bc86c8341",
          "x": 5807.445595003106,
          "y": 2044.928289749111,
          "width": 120.0000507251863,
          "height": 55.99997476839039,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "show-value",
            "formValues": {
              "append": "",
              "decimals": "0",
              "name": ""
            },
            "isSettingsPopup": true
          }
        },
        {
          "id": "47a51f3b-751e-4ad9-9e3b-6b993d4a3a7f",
          "x": 3128.9265316621186,
          "y": 1599.0605036534841,
          "endX": 3263.074212637936,
          "endY": 1651.031313917981,
          "startNodeId": "248c7829-295b-44fd-b581-18cafc953842",
          "endNodeId": "ae56dc77-4c0e-479c-9caf-390762aac180",
          "startThumbName": "output",
          "endThumbName": "min",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "87bb9375-9cbc-4baf-b337-ceb4f92b875e",
          "x": 3124.212382306903,
          "y": 1773.5867652234415,
          "endX": 3263.074212637936,
          "endY": 1701.031313917981,
          "startNodeId": "bfc7c418-33fa-44a9-bd5a-5acef9038735",
          "endNodeId": "ae56dc77-4c0e-479c-9caf-390762aac180",
          "startThumbName": "output",
          "endThumbName": "max",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "389e6b59-cc14-419c-9533-1585745efe0b",
          "x": 3413.074212637936,
          "y": 1698.531313917981,
          "endX": 3502.101499525182,
          "endY": 1685.6228021821826,
          "startNodeId": "ae56dc77-4c0e-479c-9caf-390762aac180",
          "endNodeId": "be12c859-b2c1-4be9-9359-ced5985aebcc",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "0c99804e-4f80-4e02-a852-eb62de744925",
          "x": 3612.101499525182,
          "y": 1710.6228021821826,
          "endX": 3705.1793609885126,
          "endY": 1776.5066107674602,
          "startNodeId": "be12c859-b2c1-4be9-9359-ced5985aebcc",
          "endNodeId": "7b8c7fbf-81d0-4ea7-adb3-1ce04f0ce5c5",
          "startThumbName": "output2",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "cc562af5-1e54-43c7-b561-cd786cc22061",
          "x": 3612.101499525182,
          "y": 1660.6228021821826,
          "endX": 3808.5208367519635,
          "endY": 1632.4215045872172,
          "startNodeId": "be12c859-b2c1-4be9-9359-ced5985aebcc",
          "endNodeId": "2b646b69-3b5d-41b0-b1bf-65cff9b6898b",
          "startThumbName": "output1",
          "endThumbName": "array",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "8595bdb7-1c77-4e61-98d4-832947564bcf",
          "x": 4320.909137276225,
          "y": 2059.2320601343063,
          "endX": 4548.20764044972,
          "endY": 1821.4619914947089,
          "startNodeId": "d6a6b905-9c2d-4bbe-b489-acbae0355ede",
          "endNodeId": "ac063440-0517-4880-8ffc-79610e86fc7a",
          "startThumbName": "output",
          "endThumbName": "max",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "898b3158-53e7-4462-aa9d-4c612f922b43",
          "x": 4698.20764044972,
          "y": 1818.9619914947089,
          "endX": 4839.885203842909,
          "endY": 1825.5647124219797,
          "startNodeId": "ac063440-0517-4880-8ffc-79610e86fc7a",
          "endNodeId": "d1f557d9-2ce4-47f4-9982-6739dfce3b7b",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "3dfdf87f-4fc7-4031-9e08-521f49b94e15",
          "x": 4949.885203842909,
          "y": 1850.5647124219797,
          "endX": 5040.379202479089,
          "endY": 1926.0242935408817,
          "startNodeId": "d1f557d9-2ce4-47f4-9982-6739dfce3b7b",
          "endNodeId": "28fe4ef5-5577-4943-a722-a2c1c618b7e2",
          "startThumbName": "output2",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "75005860-4bc9-4c0f-8610-abd10d784eed",
          "x": 4949.885203842909,
          "y": 1800.5647124219797,
          "endX": 5098.348754848735,
          "endY": 1742.148433671998,
          "startNodeId": "d1f557d9-2ce4-47f4-9982-6739dfce3b7b",
          "endNodeId": "ea7bdf4e-6c33-48f4-b633-bff38ffb2a3c",
          "startThumbName": "output1",
          "endThumbName": "array",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "43985ccd-ac5d-48d1-93c1-75defbda64c3",
          "x": 4437.832875462038,
          "y": 1783.7376854356596,
          "endX": 4548.20764044972,
          "endY": 1771.4619914947089,
          "startNodeId": "a301c7c2-c840-449c-8fcf-094168b0a42a",
          "endNodeId": "ac063440-0517-4880-8ffc-79610e86fc7a",
          "startThumbName": "output",
          "endThumbName": "min",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "97617dc1-a4fd-4391-b50c-c97e0745ee5a",
          "x": 4698.20764044972,
          "y": 1818.9619914947089,
          "endX": 4900.277492157165,
          "endY": 2139.5714475154764,
          "startNodeId": "ac063440-0517-4880-8ffc-79610e86fc7a",
          "endNodeId": "8a5cfde7-22fd-4f25-8af4-4540f69e3c8f",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "eab6e4a7-1e12-4bbb-b7ef-809b3ef43ca5",
          "x": 5010.277492157165,
          "y": 2164.5714475154764,
          "endX": 5101.379371894922,
          "endY": 2245.1254179315656,
          "startNodeId": "8a5cfde7-22fd-4f25-8af4-4540f69e3c8f",
          "endNodeId": "1d1b2896-c11d-4ddd-a4b8-1d3b77e493ba",
          "startThumbName": "output2",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "e03baa33-862d-4ea1-9712-ab81e08a550e",
          "x": 5010.277492157165,
          "y": 2114.5714475154764,
          "endX": 5102.0711817545925,
          "endY": 2083.8269710407394,
          "startNodeId": "8a5cfde7-22fd-4f25-8af4-4540f69e3c8f",
          "endNodeId": "ab054f77-2e88-49ec-afe6-848468c0be3c",
          "startThumbName": "output1",
          "endThumbName": "array",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "7b116fa8-c0f4-47d6-9d28-5151802abba9",
          "x": 4008.5208367519635,
          "y": 1634.4215045872172,
          "endX": 4237.832875462038,
          "endY": 1783.7376854356596,
          "startNodeId": "2b646b69-3b5d-41b0-b1bf-65cff9b6898b",
          "endNodeId": "a301c7c2-c840-449c-8fcf-094168b0a42a",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "6a09a070-9bd1-4bd5-bbd0-844769d30f62",
          "x": 5302.0711817545925,
          "y": 2085.8269710407394,
          "endX": 5411.352836320217,
          "endY": 2074.810166106682,
          "startNodeId": "ab054f77-2e88-49ec-afe6-848468c0be3c",
          "endNodeId": "5a697c29-8f0b-4b8f-b251-29d389d4b606",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "4ce7fefc-ba47-4a74-bae2-b2881aebe321",
          "x": 5611.352836320217,
          "y": 2074.810166106682,
          "endX": 5807.445595003106,
          "endY": 2074.928289749111,
          "startNodeId": "5a697c29-8f0b-4b8f-b251-29d389d4b606",
          "endNodeId": "c4c28797-abf4-444c-bc42-400bc86c8341",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "411ec0ee-74c5-4831-af11-8f842cc6d287",
          "x": 5298.348754848735,
          "y": 1744.148433671998,
          "endX": 6001.248820923991,
          "endY": 1462.7035240611838,
          "startNodeId": "ea7bdf4e-6c33-48f4-b633-bff38ffb2a3c",
          "endNodeId": "d68aeeb6-d2b2-4503-a704-7d21334b9c7f",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        }
      ]
    }
  },
  "compositions": {}
}