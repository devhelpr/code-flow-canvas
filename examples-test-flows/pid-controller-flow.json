{
  "schemaType": "flow",
  "schemaVersion": "0.0.1",
  "id": "1234",
  "flows": {
    "flow": {
      "flowType": "flow",
      "nodes": [
        {
          "id": "e25f2b6a-fc6e-4539-b1fb-55ffaf65a50a",
          "x": 291.19234420117937,
          "y": -165.795597268076,
          "width": 119.99991139806126,
          "height": 112.00007497926674,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "scope-variable",
            "formValues": {
              "variableName": "kd",
              "initialValue": "0.01",
              "fieldType": "value",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "1ba28fb2-463c-4bcf-ae6a-29c25ae9d2b3",
          "x": 117.90397278164556,
          "y": -164.97994896373183,
          "width": 120.00002402263952,
          "height": 111.99996235468848,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "scope-variable",
            "formValues": {
              "variableName": "ki",
              "initialValue": "0.01",
              "fieldType": "value",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "2c6435b0-977f-4206-b9bf-9addb1d700aa",
          "x": -71.24471502057321,
          "y": -175.36931726569108,
          "width": 120.00002402263952,
          "height": 111.99996235468848,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "scope-variable",
            "formValues": {
              "variableName": "kp",
              "initialValue": "0.1",
              "fieldType": "value",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "859cd4d5-ec1d-4db9-8c63-2d4ba0fe925a",
          "x": 315.49675898331355,
          "y": 8.996732733560528,
          "width": 119.99999001333066,
          "height": 112.00002946836335,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "scope-variable",
            "formValues": {
              "variableName": "integral",
              "initialValue": "0",
              "fieldType": "value",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "c45edd31-da61-4c6b-bd3f-6afacebb310b",
          "x": 123.13543234287549,
          "y": 7.841571991042244,
          "width": 119.99999001333066,
          "height": 112.00002946836335,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "scope-variable",
            "formValues": {
              "variableName": "lasterror",
              "initialValue": "0",
              "fieldType": "value",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "af326c3a-b2d5-41e9-89fe-add571886aa0",
          "x": -58.75004580265895,
          "y": 18.02682954497677,
          "width": 120.00002402263952,
          "height": 111.99996235468848,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "scope-variable",
            "formValues": {
              "variableName": "current",
              "initialValue": "100",
              "fieldType": "value",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "2cec11c4-67cc-4003-ac73-ad40b3cde53b",
          "x": 3889.90100344138,
          "y": 576.8153277697481,
          "width": 200,
          "height": 162,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "slider",
            "formValues": {
              "value": "416",
              "valueSliderSettings": "{\"min\":0,\"max\":500,\"step\":1}",
              "label": "input"
            },
            "showFormOnlyInPopup": false,
            "useInCompositionOnly": false,
            "isSettingsPopup": true
          }
        },
        {
          "id": "c89d5fa4-29e2-424f-9199-82167e02779c",
          "x": -276.1089600117618,
          "y": 250.71938168037366,
          "width": 200,
          "height": 111.99998474121094,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "current - measure",
              "inputType": "number"
            }
          }
        },
        {
          "id": "402c9b64-0b07-4ca7-b343-20e9e2e88859",
          "x": 376.23337082854937,
          "y": 242.988094396213,
          "width": 200.00003051757812,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "integral + error",
              "inputType": "number"
            }
          }
        },
        {
          "id": "e14483a6-18e7-4666-b442-a5c9960cc7c1",
          "x": 697.8169075766538,
          "y": 230.79701788909045,
          "width": 200,
          "height": 127.99998474121094,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "set-variable",
            "formValues": {
              "variableName": "integral"
            },
            "showFormOnlyInPopup": false,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "aa0f73aa-8f38-4532-a631-dc143f1f267e",
          "x": 1073.1452904446596,
          "y": 220.147882644199,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "error - lasterror",
              "inputType": "number"
            }
          }
        },
        {
          "id": "bd32f58f-4063-4a4d-bade-3433df565a51",
          "x": 2154.8140659291116,
          "y": 214.55054038027885,
          "width": 200,
          "height": 128,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "set-variable",
            "formValues": {
              "variableName": "lasterror"
            },
            "showFormOnlyInPopup": false,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "47317c89-7b79-4c84-9689-24a606c8900c",
          "x": 59.57047092090082,
          "y": 241.49503439648186,
          "width": 200,
          "height": 128.00001525878906,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "set-flow-variable",
            "formValues": {
              "variableName": "error"
            },
            "showFormOnlyInPopup": false,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "c9f41ffb-c580-48c5-827b-ef50a64d284a",
          "x": 1768.9343949746274,
          "y": 210.40608698991878,
          "width": 200,
          "height": 111.99998474121094,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "error",
              "inputType": "number"
            }
          }
        },
        {
          "id": "dffa7bc0-e804-4a35-8d39-bf3008574bbf",
          "x": 1442.9228314768686,
          "y": 208.68616197344122,
          "width": 200,
          "height": 128,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "set-flow-variable",
            "formValues": {
              "variableName": "derivative"
            },
            "showFormOnlyInPopup": false,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "802c07e8-0726-45d9-9684-6792dfc1e77a",
          "x": 2489.6426648134307,
          "y": 226.9692622134919,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "(kp * error) + (ki * integral) + (kd * derivative)",
              "inputType": "number"
            }
          }
        },
        {
          "id": "14a68397-09be-4f5b-a7e5-35e784797207",
          "x": 2831.0710641315427,
          "y": 251.6582059598434,
          "width": 119.99999001333066,
          "height": 56.000047058560625,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "show-value",
            "formValues": {
              "append": "",
              "decimals": "0"
            },
            "isSettingsPopup": true
          }
        },
        {
          "id": "f147b482-094e-4726-ab76-054fbe85c921",
          "x": 573.241431064874,
          "y": 10.730366650640303,
          "width": 119.99999001333066,
          "height": 112.00002946836335,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "scope-variable",
            "formValues": {
              "variableName": "measure",
              "initialValue": "100",
              "fieldType": "value",
              "fieldValueType": "number"
            },
            "isVariable": true,
            "nodeCannotBeReplaced": true
          }
        },
        {
          "id": "f9127b28-2841-476a-971b-4bc813039a3f",
          "x": 4273.959526405653,
          "y": 608.1786377997438,
          "width": 200,
          "height": 128,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "set-variable",
            "formValues": {
              "variableName": "measure"
            },
            "showFormOnlyInPopup": false,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "57dfc0e6-4be2-4aa0-99c1-ab6c5922b438",
          "x": -655.3804140022783,
          "y": 286.00808555114406,
          "width": 200,
          "height": 56,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "timer",
            "formValues": {
              "timer": "10"
            },
            "isSettingsPopup": true
          }
        },
        {
          "id": "1ecadb55-086d-4f5f-8c6c-dec74818450d",
          "x": 3413.8337528066454,
          "y": 222.6073104979363,
          "width": 200,
          "height": 127.99998474121094,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "set-variable",
            "formValues": {
              "variableName": "measure"
            },
            "showFormOnlyInPopup": false,
            "useInCompositionOnly": false
          }
        },
        {
          "id": "0ff1518b-696e-4246-a932-0ca0029e6e30",
          "x": 3071.749778276313,
          "y": 223.36411016589577,
          "width": 200,
          "height": 112,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "expression",
            "formValues": {
              "expression": "measure + input",
              "inputType": "number"
            }
          }
        },
        {
          "id": "2f5df833-7491-45a6-898c-d2cd32188811",
          "x": 3714.774193636923,
          "y": 263.5554261669481,
          "width": 119.99999001333066,
          "height": 56.000047058560625,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "show-value",
            "formValues": {
              "append": "",
              "decimals": "0"
            },
            "isSettingsPopup": true
          }
        },
        {
          "id": "575e355e-e7d0-45e9-8298-929f742528f6",
          "x": 3979.882576411788,
          "y": 97.00652067708984,
          "width": 490.9681896605357,
          "height": 397.757826311184,
          "nodeType": "Shape",
          "nodeInfo": {
            "type": "iframe-html-node",
            "formValues": {
              "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Bar visualization</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n<style>\n.wrapper {\n  display:flex;\n  flex-direction:row;\n  gap: 4px;\n  height: 100vh;\n  align-items: flex-end;\n  justify-content:center;\n  padding: 4px;\n}\n.bar {\n  transition: height 50ms;\n  height: 0%;\n  width:5%;\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n  background: rgb(180,58,95);\n  background: linear-gradient(180deg, \n    rgba(180,58,95,1) 0%, rgba(253,29,29,1) 50%, \n    rgba(252,176,69,1) 100%);\n}\n</style>\n</head>\n<body class=\"bg-white\">\n\n<div class=\"min-h-screen flex wrapper\" id=\"inner\">\n    \n</div>\n\n<script>\n    // Initialize the global variable \"input\"\n    window.input = window.input ;\n    let inputstream = [];\n    let initialized = false;\n    // Function to rerender the UI\n    function rerenderUI() {\n       if (!initialized && window[\"createElement\"]) {\n          initialized = true;\n         let loop = 0;\n         while (loop < 30) {\n           createElement?.(\"div\",{\n                        class: \"bar\",\n                         id: `bar-${loop}`,\n                         style: `--bar-height:${0}%;`\n                      },\n                      document.getElementById(\"inner\"),\n                      )\n              loop++;\n          }\n        }\n        if (window.input !== undefined) {\n            inputstream.push(window.input);\n            inputstream = inputstream.slice(-30);\n             inputstream.forEach((item,index) => {\n                    const percentage = 100 *(Math.min(200,parseFloat(item))/200);\n\n            const element = document.getElementById(`bar-${index}`);\n               element?.style.setProperty('height', `${percentage}%`);\n                 })\n            }\n    }\n\n    // Attach the rerenderUI function to the global onExecute method\n    window.onExecute = rerenderUI;\n\n    \n    rerenderUI();\n</script>\n\n</body>\n</html>",
              "aiprompt": ""
            }
          }
        },
        {
          "id": "9cc44420-7c00-4b84-8d36-f430425cb75b",
          "x": 4089.90100344138,
          "y": 657.8153277697481,
          "endX": 4273.959526405653,
          "endY": 672.1786377997438,
          "startNodeId": "2cec11c4-67cc-4003-ac73-ad40b3cde53b",
          "endNodeId": "f9127b28-2841-476a-971b-4bc813039a3f",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "fcae635a-db8f-448e-881b-e5a3ef21d588",
          "x": 576.2334013461275,
          "y": 298.988094396213,
          "endX": 697.8169075766538,
          "endY": 294.7970102596959,
          "startNodeId": "402c9b64-0b07-4ca7-b343-20e9e2e88859",
          "endNodeId": "e14483a6-18e7-4666-b442-a5c9960cc7c1",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "c1ff9d51-2efe-4080-a9ef-f52429741689",
          "x": 259.5704709209008,
          "y": 305.4950420258764,
          "endX": 376.23337082854937,
          "endY": 298.988094396213,
          "startNodeId": "47317c89-7b79-4c84-9689-24a606c8900c",
          "endNodeId": "402c9b64-0b07-4ca7-b343-20e9e2e88859",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "a394cc62-95d7-4cd6-a1f8-ec6d7a4b393c",
          "x": -76.10896001176178,
          "y": 306.7193740509791,
          "endX": 59.57047092090082,
          "endY": 305.4950420258764,
          "startNodeId": "c89d5fa4-29e2-424f-9199-82167e02779c",
          "endNodeId": "47317c89-7b79-4c84-9689-24a606c8900c",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "de051b01-1c8f-4f5e-9244-dfa57dff7421",
          "x": 1968.9343949746274,
          "y": 266.40607936052425,
          "endX": 2154.8140659291116,
          "endY": 278.55054038027885,
          "startNodeId": "c9f41ffb-c580-48c5-827b-ef50a64d284a",
          "endNodeId": "bd32f58f-4063-4a4d-bade-3433df565a51",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "87daee0f-b2c1-4920-a4b3-91af16151702",
          "x": 1273.1452904446596,
          "y": 276.147882644199,
          "endX": 1442.9228314768686,
          "endY": 272.68616197344124,
          "startNodeId": "aa0f73aa-8f38-4532-a631-dc143f1f267e",
          "endNodeId": "dffa7bc0-e804-4a35-8d39-bf3008574bbf",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "ab2e6f7e-8769-43a9-8358-d181cd979aed",
          "x": 1642.9228314768686,
          "y": 272.68616197344124,
          "endX": 1768.9343949746274,
          "endY": 266.40607936052425,
          "startNodeId": "dffa7bc0-e804-4a35-8d39-bf3008574bbf",
          "endNodeId": "c9f41ffb-c580-48c5-827b-ef50a64d284a",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "68f47705-7cde-40f0-bc13-773dacfb16fe",
          "x": 897.8169075766538,
          "y": 294.7970102596959,
          "endX": 1073.1452904446596,
          "endY": 276.147882644199,
          "startNodeId": "e14483a6-18e7-4666-b442-a5c9960cc7c1",
          "endNodeId": "aa0f73aa-8f38-4532-a631-dc143f1f267e",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "ca3bc055-9fd5-404d-97c1-fce362a1229b",
          "x": 2354.8140659291116,
          "y": 278.55054038027885,
          "endX": 2489.6426648134307,
          "endY": 282.9692622134919,
          "startNodeId": "bd32f58f-4063-4a4d-bade-3433df565a51",
          "endNodeId": "802c07e8-0726-45d9-9684-6792dfc1e77a",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "2f7c2d03-db59-46fc-a71c-bd86ff3e4d7c",
          "x": 2689.6426648134307,
          "y": 282.9692622134919,
          "endX": 2831.0710641315427,
          "endY": 281.6582059598434,
          "startNodeId": "802c07e8-0726-45d9-9684-6792dfc1e77a",
          "endNodeId": "14a68397-09be-4f5b-a7e5-35e784797207",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "333f6bb3-508b-4bc0-ac2d-3339784d942b",
          "x": -455.38041400227826,
          "y": 314.00808555114406,
          "endX": -276.1089600117618,
          "endY": 306.7193740509791,
          "startNodeId": "57dfc0e6-4be2-4aa0-99c1-ab6c5922b438",
          "endNodeId": "c89d5fa4-29e2-424f-9199-82167e02779c",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "8dc8a10e-a42b-414e-a4e7-c781f0afeadf",
          "x": 3271.749778276313,
          "y": 279.3641101658958,
          "endX": 3413.8337528066454,
          "endY": 286.60730286854175,
          "startNodeId": "0ff1518b-696e-4246-a932-0ca0029e6e30",
          "endNodeId": "1ecadb55-086d-4f5f-8c6c-dec74818450d",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "bcc5b3c7-06ea-4feb-9f8b-ba9cc82896aa",
          "x": 2951.0710541448734,
          "y": 281.6582059598434,
          "endX": 3071.749778276313,
          "endY": 279.3641101658958,
          "startNodeId": "14a68397-09be-4f5b-a7e5-35e784797207",
          "endNodeId": "0ff1518b-696e-4246-a932-0ca0029e6e30",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "467646f3-6754-4105-8b12-f6a42f3714d8",
          "x": 3613.8337528066454,
          "y": 286.60730286854175,
          "endX": 3714.774193636923,
          "endY": 293.5554261669481,
          "startNodeId": "1ecadb55-086d-4f5f-8c6c-dec74818450d",
          "endNodeId": "2f5df833-7491-45a6-898c-d2cd32188811",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        },
        {
          "id": "ad18c35b-e1cd-4e33-b27f-1aed8b2ff231",
          "x": 3834.7741836502537,
          "y": 293.5554261669481,
          "endX": 3979.882576411788,
          "endY": 295.8854338326818,
          "startNodeId": "2f5df833-7491-45a6-898c-d2cd32188811",
          "endNodeId": "575e355e-e7d0-45e9-8298-929f742528f6",
          "startThumbName": "output",
          "endThumbName": "input",
          "lineType": "BezierCubic",
          "nodeType": "Connection",
          "layer": 1,
          "nodeInfo": {}
        }
      ]
    }
  },
  "compositions": {}
}
